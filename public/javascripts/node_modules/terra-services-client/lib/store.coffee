class store
  path: "testpath"
  constructor:()-> @store = require('data-store')('app', {cwd: 'store'});
  set:(key,value,safe=false)->
    if safe
      value = new Buffer(value).toString("hex")
      @store.set(key,{hex: true, data: value})
    else
      @store.set(key,{hex: false, data: value})
  get:(key)->
    obj = @store.get key
    return null if !obj?
    if obj.hex
      value = new Buffer(obj.data,"hex").toString()
      return value
    else
      return obj.data

module.exports = store

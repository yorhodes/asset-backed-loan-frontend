(function(){var e,g=function(b,a){function c(){this.constructor=b}for(var d in a)f.call(a,d)&&(b[d]=a[d]);c.prototype=a.prototype;b.prototype=new c;b.__super__=a.prototype;return b},f={}.hasOwnProperty;e=function(b){function a(c){a.__super__.constructor.call(this);this.router.is_worker(this.me.address,function(a){return function(c){if(!c)return console.log("not worker, registering..."),a.router.register_worker({value:a.policy.stake,gas:1E6},function(a){console.log("registered!");if(!a)return console.log("could not register as worker")})}}(this));
this.log=this.router.Console.listen(function(a){return function(a){return console.log("val:"+a)}}(this));this.listen=this.router.Query.listen(function(a){return function(a,b,d,h){return c(a,b,d,h)}}(this))}g(a,b);a.prototype.policy={stake:1E5};a.prototype.contracts={router:{address:"0x388d14be0bc65c5cc4d690ac884239fc653b1bb6","interface":[{constant:!1,inputs:[{name:"program",type:"bytes32"},{name:"nonce",type:"uint256"},{name:"bounty",type:"uint256"},{name:"callback_address",type:"address"},{name:"callback_function",
type:"string"},{name:"args",type:"bytes"}],name:"run",outputs:[{name:"",type:"bytes32"}],type:"function"},{constant:!1,inputs:[],name:"register_worker",outputs:[],type:"function"},{constant:!1,inputs:[{name:"addr",type:"address"}],name:"isSecondary",outputs:[{name:"",type:"bool"}],type:"function"},{constant:!0,inputs:[{name:"machine",type:"address"}],name:"is_worker",outputs:[{name:"",type:"bool"}],type:"function"},{constant:!1,inputs:[],name:"challenge_primary",outputs:[],type:"function"},{constant:!1,
inputs:[{name:"id",type:"bytes32"},{name:"_data",type:"bytes"}],name:"primary_resolve",outputs:[],type:"function"},{constant:!1,inputs:[{name:"addr",type:"address"}],name:"isPrimary",outputs:[{name:"",type:"bool"}],type:"function"},{constant:!1,inputs:[{name:"id",type:"bytes32"},{name:"result_hash",type:"bytes32"}],name:"primary_submit",outputs:[],type:"function"},{inputs:[{name:"_primary",type:"address"}],type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,
name:"program",type:"bytes32"},{indexed:!1,name:"args",type:"bytes"},{indexed:!1,name:"bounty",type:"uint256"}],name:"Query",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"result",type:"bytes32"}],name:"Challenge",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"done",type:"bool"},{indexed:!1,name:"nonce",type:"int256"}],name:"register_worker_callback",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"bytes32"}],name:"run_callback",type:"event"},
{anonymous:!1,inputs:[{indexed:!1,name:"",type:"uint256"}],name:"Console",type:"event"}]}};a.prototype.users={me:"0xc749c2599303d29c31b46f8268a3293e86b867b5"};a.prototype.is_primary=!1;a.prototype.primary_submit=function(a,b){return this.router.primary_submit(a,b)};a.prototype.execute=function(a,b,e,f,g,h){return this.router.run(a,b,e,f,g,function(a){return function(a){return h(a)}}(this))};a.prototype.stop=function(){return this.listen.stop()};return a}(require("../lib/equery"));module.exports=e}).call(this);

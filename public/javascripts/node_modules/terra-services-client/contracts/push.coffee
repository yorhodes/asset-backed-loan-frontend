equery = require "../lib/equery"

class Push extends equery
  constructor: () ->
    super()

  spawn: (from,_interface, _bytecode, args..., _callback)->

    usersContract = @eth.contract _interface

    users = usersContract.new(args...,{
      from: from,
      data: _bytecode,
      gas: 3000000
    }, (e, contract) ->
      #console.log e
      if typeof contract.address != 'undefined'
        #console.log 'Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash
        _callback(contract.address, contract.transactionHash)
      return
    )
    return

module.exports = Push
